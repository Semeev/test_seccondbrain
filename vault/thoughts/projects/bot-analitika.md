---
type: project
title: –ë–æ—Ç –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
status: active
created: 2026-02-24
---

# –ë–æ—Ç –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

Telegram –±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ –ú–∞–¥–∏–Ω—ã. –ì–æ–ª–æ—Å/—Ç–µ–∫—Å—Ç ‚Üí Claude –ø–∞—Ä—Å–∏—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí SQLite ‚Üí –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∏ –µ–∂–µ–º–µ—Å—è—á–Ω—ã–µ –æ—Ç—á—ë—Ç—ã.

## –î–æ—Å—Ç—É–ø—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| –ë–æ—Ç | @Ersaly_bot |
| Bot Token | `8606458024:AAE0m3aP5iYsSX2Kix2XAxoGgpHc4PCuMNc` |
| –ú–∞–¥–∏–Ω–∞ Telegram ID | `308229395` |
| –ï–≤–≥–µ–Ω–∏–π Telegram ID | `1030145112` |
| VPS | `root@184.174.35.127` |
| –ü—É—Ç—å –Ω–∞ VPS | `/home/dbrain/finance-bot/` |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `/home/dbrain/finance-bot/data/finance.db` |

## API –∫–ª—é—á–∏

| –°–µ—Ä–≤–∏—Å | –ö–ª—é—á |
|---|---|
| Anthropic (Claude Haiku) | –≤ `.env` –Ω–∞ VPS |
| Deepgram (–≥–æ–ª–æ—Å) | –≤ `.env` –Ω–∞ VPS |

## –°—Ç–µ–∫

- **aiogram 3** ‚Äî Telegram –±–æ—Ç
- **Claude Haiku** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤ (~$0.001 –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)
- **Deepgram nova-2** ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ (~$0.004 –∑–∞ –º–∏–Ω—É—Ç—É)
- **SQLite** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤
- **APScheduler** ‚Äî –∞–≤—Ç–æ-–æ—Ç—á—ë—Ç—ã
- **systemd** ‚Äî —Å–µ—Ä–≤–∏—Å `finance-bot` –Ω–∞ VPS

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ / –ö–Ω–æ–ø–∫–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|---|---|---|
| –ù–∞–ø–∏—Å–∞—Ç—å/—Å–∫–∞–∑–∞—Ç—å —Ä–∞—Å—Ö–æ–¥ | –ü–∞—Ä—Å–∏—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç | ~$0.001 |
| üìä –°–µ–≥–æ–¥–Ω—è / `/today` | –†–∞—Å—Ö–æ–¥—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ / `/last` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–ø–∏—Å–µ–π | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| üìÖ –ù–µ–¥–µ–ª—è / `/week` | –û—Ç—á—ë—Ç –∑–∞ 7 –¥–Ω–µ–π | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| üóì –ú–µ—Å—è—Ü / `/month` | –û—Ç—á—ë—Ç –∑–∞ –º–µ—Å—è—Ü | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| üìà –ì—Ä–∞—Ñ–∏–∫ –Ω–µ–¥–µ–ª–∏ | –ö—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| üìà –ì—Ä–∞—Ñ–∏–∫ –º–µ—Å—è—Ü–∞ | –ö—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |

## –î–∏–∑–∞–π–Ω –≥—Ä–∞—Ñ–∏–∫–æ–≤

–ü—Ä–µ–º–∏—É–º —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ (matplotlib, PNG):
- –§–æ–Ω: —Ç—ë–º–Ω—ã–π –±–æ—Ä–¥–æ–≤–æ-—Å–µ—Ä—ã–π `#1a1215`
- –¶–≤–µ—Ç–∞ –±–∞—Ä–æ–≤: –±–æ—Ä–¥–æ, Lacoste –∑–µ–ª—ë–Ω—ã–π, —Ç—ë–ø–ª—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏
- –¢–µ–∫—Å—Ç: —Å–ª–æ–Ω–æ–≤–∞—è –∫–æ—Å—Ç—å + –º–æ–ª–æ—á–Ω—ã–π
- –ê–∫—Ü–µ–Ω—Ç: –±–æ—Ä–¥–æ–≤–∞—è –ª–∏–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞

## –ê–≤—Ç–æ-–æ—Ç—á—ë—Ç—ã

- **–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 21:00** (Asia/Almaty) ‚Äî –Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç ‚Üí –ú–∞–¥–∏–Ω–µ –∏ –ï–≤–≥–µ–Ω–∏—é
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ 21:00** ‚Äî –º–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç ‚Üí –ú–∞–¥–∏–Ω–µ –∏ –ï–≤–≥–µ–Ω–∏—é

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤

### –ë—å—é—Ç–∏
`–∫–æ—Å–º–µ—Ç–æ–ª–æ–≥`, `–Ω–æ–≥—Ç–∏`, `—Ä–µ—Å–Ω–∏—Ü—ã`, `–≤–æ–ª–æ—Å—ã`, `–º–∞–∫–∏—è–∂`, `–ª–∞–∑–µ—Ä`, `–º–∞—Å—Å–∞–∂`, `–∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ`

### –ö–æ—Å–º–µ—Ç–∏–∫–∞
`–∫–æ—Å–º–µ—Ç–∏–∫–∞_–¥–µ–∫–æ—Ä`, `–∫–æ—Å–º–µ—Ç–∏–∫–∞_—É—Ö–æ–¥`

### –ü–æ–∫—É–ø–∫–∏
`–≤–µ—â–∏`, `–¥–æ–º`, `–±–µ–∑–¥–µ–ª—É—à–∫–∏`, `—Ç–µ—Ö–Ω–∏–∫–∞`, `–ø—Ä–æ–¥—É–∫—Ç—ã`, `–±–∞–∑–∞—Ä`, `—é–≤–µ–ª–∏—Ä–Ω—ã–µ`

### –î–µ—Ç–∏ / –°–µ–ª–∏–Ω
`–≤–µ—â–∏_—Å–µ–ª–∏–Ω`, `–∏–≥—Ä—É—à–∫–∏`, `–Ω—è–Ω—è`, `—Ä–∞–∑–≤–∏—Ç–∏–µ_—Å–µ–ª–∏–Ω`

### –î–æ–º
`–∞—Ä–µ–Ω–¥–∞`, `—Ä–µ–º–æ–Ω—Ç`, `–∫–æ–º–º—É–Ω–∞–ª–∫–∞`

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
`–∫—Ä–µ–¥–∏—Ç—ã`, `–¥–æ–ª–≥–∏`, `–∞–≤—Ç–æ`

### –ü—Ä–æ—á–µ–µ
`—Å–æ–±–∞–∫–∞`, `–∫–æ—Ç`, `–æ—Ç–ø—É—Å–∫`, `–¥–∂–æ–Ω`, `—Ä–∞–∑–≤–∏—Ç–∏–µ`, `—Ç—É—Å–æ–≤–∫–∏`, `–µ–¥–∞_–≤–Ω–µ`, `—Ñ–∞—Å—Ç—Ñ—É–¥`, `–º–∞–º–∞`, `–±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å`

## –ö–æ–¥

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: [[test_seccondbrain]]
–ü—É—Ç—å: `finance-bot/src/finance_bot/`

```
finance-bot/
‚îú‚îÄ‚îÄ src/finance_bot/
‚îÇ   ‚îú‚îÄ‚îÄ bot.py          ‚Äî –∑–∞–ø—É—Å–∫, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ config.py       ‚Äî —Ç–æ–∫–µ–Ω—ã –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ categories.py   ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ storage.py      ‚Äî SQLite
‚îÇ   ‚îú‚îÄ‚îÄ reports.py      ‚Äî HTML –æ—Ç—á—ë—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ claude.py   ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Haiku
‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ       ‚îú‚îÄ‚îÄ text.py     ‚Äî —Ç–µ–∫—Å—Ç + –∫–Ω–æ–ø–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ voice.py    ‚Äî –≥–æ–ª–æ—Å —á–µ—Ä–µ–∑ Deepgram
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ .env                ‚Äî —Å–µ–∫—Ä–µ—Ç—ã (–Ω–µ –≤ git)
‚îî‚îÄ‚îÄ finance-bot.service ‚Äî systemd
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ VPS

```bash
# –°—Ç–∞—Ç—É—Å
ssh root@184.174.35.127 "systemctl status finance-bot"

# –õ–æ–≥–∏
ssh root@184.174.35.127 "journalctl -u finance-bot -n 30"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
ssh root@184.174.35.127 "systemctl restart finance-bot"

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
rsync -av /Users/zake/Documents/test_seccondbrain/finance-bot/src/ root@184.174.35.127:/home/dbrain/finance-bot/src/
ssh root@184.174.35.127 "systemctl restart finance-bot"
```

## –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

1. –û—Ç–∫—Ä—ã—Ç—å `finance-bot/src/finance_bot/categories.py`
2. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É: `"–∫–ª—é—á": "üéØ –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",`
3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å (–∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ)
